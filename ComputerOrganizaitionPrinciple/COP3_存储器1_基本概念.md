- [计算机组成原理：存储器 - 基本概念](#计算机组成原理存储器---基本概念)
  - [1. 发展历史](#1-发展历史)
  - [2. 存储单元](#2-存储单元)
  - [3. 内存地址空间](#3-内存地址空间)
  - [4. 存储器分类](#4-存储器分类)
    - [4.1. 存储介质](#41-存储介质)
    - [4.2. 存取方式](#42-存取方式)
    - [4.3. 信息易失性](#43-信息易失性)
  - [5. 存储器分级](#5-存储器分级)
  - [6. Refer Links](#6-refer-links)

# 计算机组成原理：存储器 - 基本概念

存储器是计算机系统中的记忆设备，用来存放程序和数据。

## 1. 发展历史

- 20 世纪 50 ~ 60 年代，所有计算机存储器都是由微小的铁磁体环。
- 1970 年，仙童半导体公司生产出了第一个较大容量半导体存储器。
- 从 1970 年起，半导体存储器经历了 11 代：单个芯片 1KB、4KB、16KB、64KB、256KB、1MB、4MB、16MB、64MB、256MB、GB。

## 2. 存储单元

存储器被划分为若干个存储单元，每个存储单元从 0 开始顺序编号，例如一个存储器有 128 个存储单元，则编号从 0～127。

![image](http://img.cdn.firejq.com/jpg/2019/2/15/c2c1c60b81c17e4590dca1d53f1b849d.jpg)

**微机存储器是以字节为最小单元来计算的。一个存储器有 128 个存储单元，那么它可以存储 128 个 Byte**。

## 3. 内存地址空间

最终运行程序的部件是 CPU，而对 CPU 来说，系统中所有的存储器的存储单元都位于一个统计的逻辑存储器中，其容量受 CPU 寻址能力的限制，这个逻辑存储器称为**内存地址空间**：

![image](http://img.cdn.firejq.com/jpg/2019/2/15/c07ac189919f84666c26a2438e91bcc2.jpg)

NOTE
- **内存地址空间的大小受 CPU 地址总线宽度的影响，且不同计算机系统的内存地址空间的分配情况是不同的**。

- 内存地址空间是一个一维的线性空间，每一个内存单元在这个空间中都有唯一的地址，即**物理地址**。

- 不同 CPU 的定址方法各不相同。

  i.e. 8086CPU
  - 地址加法器采用 `物理地址（20 位） = 段地址 * 16 + 偏移地址` 的方法合成物理地址，也就是说 8086CPU 在访问内存时，用一个基础地址（段地址 * 16）和一个相对于基础地址的偏移地址相加，给出内存单元的物理地址。
  - 实际上，**内存并没有分段，段的划分来自于 8086CPU “主观上”的划分**，使得开发者可以用分段的方式来管理内存。由于段地址*16 必然是 16 的倍数，因此一个段的起始地址也一定是 16 的倍数；偏移地址为 16 位，16 位地址的寻址能力位 64KB，因此一个段的长度最大为 64KB。

i.e.

8086CPU 的地址总线宽度为 20，可以传送 2^20 个不同的地址信息，则 8086PC 的内存地址空间大小为 1 MB。8086PC 的内存地址空间分配情况：

![image](http://img.cdn.firejq.com/jpg/2019/2/15/1ec7f2842b956afbb287a9ec10671f14.jpg)

## 4. 存储器分类

根据存储材料的性能及使用方法不同，存储器有各种不同的分类方法：

### 4.1. 存储介质

作为存储介质的基本要求，必须要有 2 个明显区别的物理状态，分别用来表示二进制代码 0 和 1。同时，存储器的存取速度又取决于这种物理状态的改变速度。

构成存储器的存储介质，目前主要采用半导体器件和磁性材料：
- **半导体存储器**: 用半导体器件组成的存储器。

  - **ROM**: 内容是固定不变的，即只能读出而不能写入的半导体存储器称为只读存储器 (ROM)。
  - **RAM**: 既能读出又能写入的半导体存储器称为随机读写存储器 (RAM)

- **磁表面存储器**: 用磁性材料做成的存储器。

### 4.2. 存取方式

根据存储器的存取方式，可分为：
- 随机存储器：存储器中的任何存储单元的内容都能被随机存取，存取时间和存储单元的物理位置无关，如半导体存储器。

- 顺序存储器：存储器只能按某种顺序来存取，存取时间和存储单元的物理位置有关，如磁带存储器。

NOTE：**磁盘存储器属于半顺序存储器**。

### 4.3. 信息易失性

根据存储器的信息易失性，可分为：
- 易失性存储器：断电后信息消失的存储器。半导体读写存储器 RAM 是易失性存储器。
- 非易失性存储器：断电后仍能保存信息的存储器。磁表面存储器都是非易失性存储器。

## 5. 存储器分级

目前存储器特点：
- 速度快的存储器价格贵，容量小。
- 价格低的存储器速度慢，容量大。

一般情况下，对存储器的要求是容量大、速度快、成本低，但是在一个存储器中要求同时兼顾这三方面是困难的。

为了解决这方面的矛盾，目前在计算机系统中，通常采用多级存储器体系结构：

- 内部存储器：**CPU 能直接访问的存储器**。目前主要使用半导体存储器。

  - 主存储器：由 MOS 半导体存储器组成，是计算机系统的主要存储器，用来存放计算机运行期间的大量程序和数据。
  - 高速缓冲存储器 (Cache): 是计算机系统中的一个高速小容量半导体存储器，存取速度最快但存储容量少。

- 外部存储器 / 辅助存储器：**CPU 不能直接访问的存储器**（信息必须调入内存储器后才能被 CPU 处理），容量大但存取速度慢。目前主要使用磁盘、磁带和光盘。

## 6. Refer Links
