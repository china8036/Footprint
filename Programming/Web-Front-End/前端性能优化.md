- [前端性能优化](#%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96)
    - [yahoo 军规](#yahoo-%E5%86%9B%E8%A7%84)
    - [iframe、frame、frameset](#iframe%E3%80%81frame%E3%80%81frameset)
        - [使用 iframe 的优缺点](#%E4%BD%BF%E7%94%A8-iframe-%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9)
        - [iframe 的替代方案](#iframe-%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88)
            - [模板引入 include](#%E6%A8%A1%E6%9D%BF%E5%BC%95%E5%85%A5-include)
            - [div + ajax](#div-ajax)
    - [刷新率](#%E5%88%B7%E6%96%B0%E7%8E%87)

# 前端性能优化

## 	yahoo 军规

35 条 https://csspod.com/frontend-performance-best-practices/  

14 条 https://segmentfault.com/a/1190000000735395 

## 	iframe、frame、frameset
HTML5 不再支持使用 frame，使用 iframe 代替，而 iframe 只有 src 属性；

iframe 可以和 frameset 搭配使用也可以单独使用，但 frame 必须和 frameset 搭配使用；

### 使用 iframe 的优缺点
http://gongxquan.blog.163.com/blog/static/2108462532012111643039216 

优点：

1. 程序调入静态页面比较方便；

2. 页面和程序分离；

缺点：
1.	各个 frame 中引入的 CSS/JavaScript 增加了大量 HTTP 请求；   
2.	对 SEO 很不友好，搜索引擎索引到 frameset 就只有个框架，底层的索引不到；   
3.	URL 不友好，如要收藏一个有 frameset 的网页，无法直接链接过去；   
4.	不能使用于响应式布局，iframe 的使用必须指定高度，而响应式布局的高度不是固定的；   
5.	iframe 标签的创建比其它引入 scripts 和 css 的 DOM 标签的创建慢了 1-2 个数量级，阻塞页面加载，导致 window 的 onload 事件触发延迟（window 的 onload 事件需要在所有 iframe 加载完毕后（包含里面的元素) 才会触发）；    

### iframe 的替代方案
严格意义上而言，没有能完全替代 iframe 的方案，因为 iframe 加载了一个外部完整的 html 页面（包括其 css、JavaScript），但对于各种应用场景，都有可以替代实现的方案：

用 ajax 加载过来的页面的 CSS JS 等元素会影响本页面；

#### 模板引入 include

<!-- TODO 例如  底部导航栏的实现  不用 frame 要怎么弄？css/js 是在子页面里导入，还是在父页面导入？子页面导入的能不能给父页面用 / 父页面导入的能不能给子页面用？ -->

#### 	div + ajax
http://www.bkjia.com/webzh/853580.html 

满足了响应式布局，也有利于 SEO。

例：     
html 文件：
```html
<ul class="nav navbar-nav" id="indexMenu">  
    <li><a target="main/main.html">首页</a></li>  
    <li><a target="new/new.html">新闻</a></li>  
    <li><a target="leave/leave.html">留言</a></li>  
    <li><a target="download/download.html">资料下载</a></li>  
</ul>  

<div id="iframeContent"></div>  
```
JavaScript 文件：
```javascript
$(function(){  
    $.get("main/main.html",function(data){  
        $("#iframeContent").html(data);// 初始化加载界面  
    });  
      
    $('#indexMenu li').click(function(){// 点击 li 加载界面  
        var current = $(this),  
        target = current.find('a').attr('target'); // 找到链接 a 中的 targer 的值  
        $.get(target,function(data){  
            $("#iframeContent").html(data);   
         });  
    });  
});  
```

## 刷新率

如果网页动画能够做到每秒 60 帧，就会跟显示器同步刷新，达到最佳的视觉效果。这意味着，一秒之内进行 60 次重新渲染，每次重新渲染的时间不能超过 16.66 毫秒。
