- [Java 异常：基本概念](#java-异常基本概念)
  - [1. 基本概念](#1-基本概念)
    - [1.1. 背景](#11-背景)
    - [1.2. 意义](#12-意义)
  - [2. 异常体系](#2-异常体系)
  - [3. 异常分类](#3-异常分类)
    - [3.1. Checked Exception（受检异常）](#31-checked-exception受检异常)
    - [3.2. Unchecked / Runtime Exception（非受检异常）](#32-unchecked--runtime-exception非受检异常)
  - [4. Refer Links](#4-refer-links)

# Java 异常：基本概念

## 1. 基本概念

### 1.1. 背景

异常机制已经成为判断一门编程语言是否成熟的标准之一，实际上除了传统的像 C 语言没有提供异常机制之外，目前主流的编程语言（如 Java、C++、python、C#、Ruby 等）都提供了成熟的异常机制。异常机制可以使程序种的异常处理代码与正常业务代码分离，保证程序代码更加优雅简洁，同时可以提高程序的健壮性。

### 1.2. 意义

在异常处理机制出现之前，开发者需要通过 if 条件语句来判断可能发生的错误，并对其做出处理操作。但这种模式存在以下 2 个问题：
- 无法穷举所有的异常情况。异常情况总是比可以考虑到的情况更多，所以程序总是不够健壮。
- 错误处理代码和业务实现代码混杂。错误处理代码和业务代码混杂会严重影响程序的可读性，增加程序维护的难度。

使用异常处理机制就可以解决这些问题。

## 2. 异常体系

Java 把所有非正常情况分为 2 种：异常 (Exception) 和错误 (Error)，它们都继承于 Throwable 父类。

![image](http://otaivnlxc.bkt.clouddn.com/jpg/2018/9/20/747051acc8bb14c96dea6b8150a30730.jpg)

其中：
- Error 一般指与 JVM 有关的问题，如系统崩溃、JVM 错误、动态链接失败等，这类错误无法恢复或不可能捕获，必将导致程序中断。因此，不应试图通过 try...catch 结构来捕获或通过 throws 来抛出这类错误。
- Exception 指的是不一定会导致系统崩溃的非正常情况。这类异常可以通过异常机制捕获和处理。

## 3. 异常分类

Java 异常体系中的异常被分为 2 大类：
- Checked Exception（受检异常）
- Unchecked / Runtime Exception （非受检异常）

### 3.1. Checked Exception（受检异常）

所有不继承自 RuntimeException 类的异常类都称为 Checked 异常。Checked 异常通常是可以被处理 / 修复的异常，并且在 Java 程序中如果没有显式地处理 Checked 异常，会产生编译错误。

在所有编程语言中，只有 Java 提供了 Checked 异常，这也体现了 Java 语言的设计哲学，即“没有完善错误处理的代码根本不会被执行”。

对于 Checked 异常的处理方式通常有以下 2 种：
- 使用 try...catch 结构捕获并处理。
- 如果当前方法不知道如何处理该异常，则应在方法声明时使用 throws 语句抛出该异常。

优点
- Checked 异常能在编译时提醒程序员代码可能存在的问题，并强迫程序员进行处理或抛到上一级，从而可以避免程序员因为粗心而忘记处理异常的错误。

缺点
- 大部分方法都不能明确地知道如何处理异常，因此只能在方法声明处抛出异常，导致降低了程序开发的生产效率和代码的执行效率。
- Java 程序必须显式捕获并处理或抛出，增加了编程的复杂度。
- 若在方法声明处抛出异常，会导致方法签名和异常耦合。

### 3.2. Unchecked / Runtime Exception（非受检异常）

所有继承自 RuntimeException 类的异常类都称为 Runtime 异常。相比 Checked 异常，Runtime 异常更加灵活，它无须显式声明抛出，若程序需要捕获 Runtime 异常，也可通过 try...catch 结构来捕获处理。

Runtime 异常可以在异常处理代码和业务代码分离的情况下，保证程序有较好的健壮性，又可以避免 Checked 异常带来的编程繁琐性。因此，C#、Ruby、Python 等语言都没有所谓的 Checked 异常的概念，所有异常都属于 Runtime 异常。

## 4. Refer Links
