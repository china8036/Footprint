- [计算机网络 - 数据链路层 - MAC 子层：多路访问协议](#计算机网络---数据链路层---mac-子层多路访问协议)
  - [1. 随机访问协议 (Random Access)](#1-随机访问协议-random-access)
    - [1.1. ALOHA 协议](#11-aloha-协议)
      - [1.1.1. 纯 ALOHA 协议](#111-纯-aloha-协议)
      - [1.1.2. 分隙 ALOHA 协议](#112-分隙-aloha-协议)
    - [1.2. 载波侦听多路访问协议 CSMA(Carrier Sense Multiple Access)](#12-载波侦听多路访问协议-csmacarrier-sense-multiple-access)
      - [1.2.1. 非持续式](#121-非持续式)
      - [1.2.2. 持续式](#122-持续式)
  - [2. 无冲突协议 / 受控访问协议 (Controlled Access)](#2-无冲突协议--受控访问协议-controlled-access)
  - [3. Refer Links](#3-refer-links)

# 计算机网络 - 数据链路层 - MAC 子层：多路访问协议

实质上就是要在多路访问信道上确定下一个使用者。

## 1. 随机访问协议 (Random Access)

特点：站点争用信道，可能出现站点之间的冲突；

### 1.1. ALOHA 协议

#### 1.1.1. 纯 ALOHA 协议

任何一个站都可以在帧生成后立即发送（可能冲突），并通过信号的反馈，检测信道，以确定发送是否成功。如发送失败，则经随机延时后再发送。

纯 ALOHA 中，一旦产生新帧，就立即发送，全然不顾是否有用户正在发送，所以发生冲突的可能伴随着发送的整个过程。

#### 1.1.2. 分隙 ALOHA 协议

分隙 ALOHA 是把时间分成时隙（时间片），时隙的长度对应一帧的传输时间。

新帧的产生是随机的，但分隙 ALOHA 不允许随机发送，凡帧的发送必须在时隙的起点。

分隙 ALOHA 中，规定发送行为必须在时隙的开始，因此冲突只可能发生在时隙的起点，冲突发生时只浪费一个时隙。一旦某个站占用时隙并发送成功，则在该时隙内不会出现冲突。

### 1.2. 载波侦听多路访问协议 CSMA(Carrier Sense Multiple Access)

“先听后发、边发边听”，改进 ALOHA 协议的侦听 / 发送策略。

#### 1.2.1. 非持续式

运行过程：
1. 经侦听，如果介质空闲，开始发送。
1. 如果介质忙，则等待一个随机分布的时间，然后重复步骤 1。

主要问题是：等待一个随机时间可以减少再次碰撞冲突的可能性，但缺点是等待时间内介质上没有数据传送，这段时间是浪费的。

#### 1.2.2. 持续式

运行过程：
1. 经侦听，如介质空闲，则发送。
1. 如介质忙，持续侦听，一旦空闲立即发送。
1. 如果发生冲突，等待一个随机分布的时间再重复步骤 1。

持续式的延迟时间要少于非持续式。

主要问题是：如果两个以上的站等待发送，一旦介质空闲就一定会发生冲突。
- 1-P CSMA
- CSMA/CD
  - CSMA/CD 是一种 1-CSMA 方式的改进。
  - 以太网采用的就是 CSMA/CD 介质访问控制方式。

## 2. 无冲突协议 / 受控访问协议 (Controlled Access)

特点：站点被分配占用信道，无冲突。
- Bit-Map 协议（位图）
  
  也叫预留协议，如有 N 个站点共享信道，编号为 0 ~N-1，其竞争周期将分为 N 个时隙，每个站点占有一个时隙，如某站准备发送，则可在属于它的时隙内填入 1，一个竞争周期后，则将按顺序发送，不会产生冲突。

- Binary Countdown （二进制倒计数）
  
  站号按相同长度的二进制数编号，需要发送的站逐个按高位到低位在争用周期开始时发送，凡低序号的站点发现有高序号站点也希望发送，则退出竞争，即： 高序号站点优先。

## 3. Refer Links
