

拆包粘包问题 https://www.zhihu.com/question/37023914

粘包与拆包是由于TCP协议是字节流协议，没有记录边界所导致的。
所以如何确定一个完整的业务包就由应用层来处理了。
（这就是分包机制，本质上就是要在应用层维护消息与消息的边界。）
分包机制一般有两个通用的解决方法：
1,特殊字符控制，例如FTP协议。
2,在包头首都添加数据包的长度，例如HTTP协议。


https://blog.insanecoder.top/tcp-packet-splice-and-split-issue/


UDP是基于报文发送的，从UDP的帧结构可以看出，在UDP首部采用了16bit来指示UDP数据报文的长度，因此在应用层能很好的将不同的数据报文区分开，从而避免粘包和拆包的问题。而TCP是基于字节流的，虽然应用层和TCP传输层之间的数据交互是大小不等的数据块，但是TCP把这些数据块仅仅看成一连串无结构的字节流，没有边界；另外从TCP的帧结构也可以看出，在TCP的首部没有表示数据长度的字段，基于上面两点，在使用TCP传输数据时，才有粘包或者拆包现象发生的可能。