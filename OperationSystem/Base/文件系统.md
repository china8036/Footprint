
http://www.cnblogs.com/huxiao-tee/p/4657851.html

常规文件系统操作（调用 read/fread 等类函数）中，函数的调用过程：

1、进程发起读文件请求。

2、内核通过查找进程文件符表，定位到内核已打开文件集上的文件信息，从而找到此文件的 inode。

3、inode 在 address_space 上查找要请求的文件页是否已经缓存在**页缓存**中。如果存在，则直接返回这片文件页的内容。

4、如果不存在，则通过 inode 定位到文件磁盘地址，将数据从磁盘复制到**页缓存**。之后再次发起读页面过程，进而将内核态页缓存中的数据发给用户态用户进程。

总结来说，常规文件操作为了提高读写效率和保护磁盘，使用了页缓存机制。这样造成**读文件时需要先将文件页从磁盘拷贝到页缓存中**，由于页缓存处在内核空间，不能被用户进程直接寻址，所以还需要将页缓存中数据页再次拷贝到内存对应的用户空间中。这样，通过了两次数据拷贝过程，才能完成进程对文件内容的获取任务。写操作也是一样，待写入的 buffer 在内核空间不能直接访问，必须要先拷贝至内核空间对应的主存，再写回磁盘中（延迟写回），也是需要两次数据拷贝。


http://www.ruanyifeng.com/blog/2018/10/exfat.html

Windows 系统主要有三种文件系统:
- FAT32

  FAT32 是最老的文件系统，所有操作系统都支持，兼容性最好。但是，它是为32位计算机设计的，文件不能超过 2^32 - 1 个字节，也就是不能超过 4GB，分区不能超过 8TB。目前来看，这个文件系统有点过时了，只适合小文件，如果有大的视频文件，就不能使用它。

- NTFS

  NTFS 是 Windows 的默认文件系统，用来替换 FAT32。Windows 的系统盘只能使用这个系统，移动硬盘买来装的也是它。

- exFAT

  exFAT 可以看作是 FAT32 的64位升级版，ex就是 extended 的缩写（表示"扩展的 FAT32"），功能不如 NTFS，但是解决了文件和分区的大小问题，两者最大都可以到 128PB。由于 Mac 和 Linux 电脑可以读写这种系统，所以移动硬盘的文件系统可以改成它。


