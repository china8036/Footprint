- [计算机视觉：数字图像基础](#计算机视觉数字图像基础)
  - [1. TODO:](#1-todo)
  - [2. 图像尺寸与分辨率](#2-图像尺寸与分辨率)
  - [3. 像素值](#3-像素值)
  - [4. 图像文件格式](#4-图像文件格式)
    - [4.1. TIFF](#41-tiff)
    - [4.2. GIF](#42-gif)
    - [4.3. PNG](#43-png)
    - [4.4. JPEG](#44-jpeg)
    - [4.5. JFIF](#45-jfif)
    - [4.6. EXIF](#46-exif)
    - [4.7. BMP](#47-bmp)
    - [4.8. PBM](#48-pbm)
  - [5. 直方图](#5-直方图)
  - [6. 点运算](#6-点运算)
  - [7. 滤波器](#7-滤波器)
  - [8. 边缘与轮廓](#8-边缘与轮廓)
  - [9. 色彩空间](#9-色彩空间)
    - [9.1. RGB](#91-rgb)
    - [9.2. HSL/HSV/HSB](#92-hslhsvhsb)
  - [10. Refer Links](#10-refer-links)

# 计算机视觉：数字图像基础

## 1. TODO:

1.

- 空间域 / 空域 / 像素域 (spatial domain)

  由图像像素组成的空间。这种在图像空间中以长度（距离）为自变量直接对像元值进行处理称为空间域处理，空域处理是在像素级的处理，如在像素级的图像叠加。

  通过离散傅立叶变换或小波变换可以将图像由空域转换到频域，表示图像的能量梯度。

- 时间域 / 时域

  自变量是时间，即横轴是时间，纵轴是信号的变化。其动态信号 x（t）是描述信号在不同时刻取值的函数。

  时域通过离散傅立叶变换或小波变换可以将图像由时域转换到频域，表示图像的能量梯度。

- 频率域 / 频域 (frequency domain)

  以频率（即波数) 为自变量描述图像的特征，可以将一幅图像像元值在空间上的变化分解为具有不同振幅、空间频率和相位的简振函数的线性叠加，图像中各种频率成分的组成和分布称为空间频谱。这种对图像的频率特征进行分解、处理和分析称为频率域处理或波数域处理。

  自变量是频率，即横轴是频率，纵轴是该频率信号的幅度，也就是通常说的频谱图。频谱图描述了信号的频率结构及频率与该频率信号幅度的关系。

  频率域处理主要用于与图像空间频率有关的处理中。如图像恢复、图像重建、辐射变换、边缘增强、图像锐化、图像平滑、噪声压制、频谱分析、纹理分析等处理和分析中。

2.

图像的细节对应的是高频部分，如边缘分界处；轮廓对应的是图像的低频部分，所以要留下轮廓的话应该去掉高频，结果是图像被模糊了。
噪声一般是白点或者黑点，大部分是高频，所以一般会对信号先进行低通滤波处理即过滤掉高频部分，留下低频。

## 2. 图像尺寸与分辨率

- 一幅图像的尺寸可以直接由图像矩阵 I 的宽度（列数）和高度（行数）确定。

- 一幅图像的分辨率指定了它在真实世界中的空间尺寸，由每个计量单位的图像元素数给出。

- 位深度是指用语表示单个颜色的位数，不是表示整个图像所需的位数。如：一幅 8 位深度的 RGB 编码彩色图像每个通道需要 8 位，总共需要 24 位，而具有 12 位深度的相同图像总共需要 36 位。

## 3. 像素值

像素值实际上是长度为 k 的二进制字，因此一个像素可以表示 2^k 种不同的值。k 值由图像的位深度决定，通常是处理器的字长。

一个单独像素的位数取决于图像的种类：
- 灰度图像

  一幅灰度图像的图像数据由代表图像强度、亮度、密度的单个通道构成。

- 二值图像

  二值图像是一种特殊的灰度图像，其像素只能取两种值中的一种。

- 彩色图像

  大多数彩色图像包含红、绿、蓝（RGB）三种基色，并且通常每个分量使用 8 位。在这些彩色图像中，每个像素需要 3x8=24 位来编码所有的三个分量，每个单独分量的范围是 [0……255]。

- 特殊图像

  特殊图像是指那些用常见的标准格式不足以表示其图象值的图像。如：具有负值的图像（会在例如曲线检测等的图像处理过程中产生）和具有浮点型值的图像（会在诸如天文学和医学的应用中见到）。

## 4. 图像文件格式

光栅数据图像：以离散坐标排列在规则矩阵中的像素值所构成的图像。

矢量数据图像：以连续坐标的几何对象所构成的图像；要在显示器或打印机等物理设备上显示矢量数据图像，就必须要先将其光栅化。

### 4.1. TIFF

标签图像文件格式（Tagged Image File Format，简写为 TIFF）是一种灵活的位图格式，为了满足不同领域专业需求而设计。

TIFF 格式支持灰度、索引、真彩色图像。

通过在文件标头中使用“标签”，它能够在一个文件中处理多幅图像和数据。标签能够标明图像的如图像大小这样的基本几何尺寸，或者定义图像数据是如何排列的，或者是否使用了各种各样的图像压缩选项。

与 JPEG 不同，TIFF 文件可以编辑然后重新存储而不会有压缩损失。其它的一些 TIFF 文件选项包括多层或者多页。

### 4.2. GIF

图像互换格式（GIF，Graphics Interchange Format）是一种位图图形文件格式，以 8 位色（即 256 种颜色）重现真彩色的图像。它实际上是一种压缩文档，采用 LZW 压缩算法进行编码，有效地减少了图像文件在网络上传输的时间。它是目前广泛应用于网络传输的图像格式之一。

GIF 实质上是一种索引图像文件格式，是为最大深度是 8 位的彩色和灰度图像而设计的，因此它不支持真彩色图像。

- 优点：
  - 优秀的压缩算法使其在一定程度上保证图像质量的同时将体积变得很小。
  - 可插入多帧，从而实现动画效果。
  - 可设置透明色以产生对象浮现于背景之上的效果。
- 缺点：
  - 由于采用了 8 位元压缩，最多只能处理 256 种颜色，故不宜应用于真彩色图片。

### 4.3. PNG

便携式网络图形（Portable Network Graphics，PNG）是一种无损压缩的位图图形格式，支持索引、灰度、RGB 三种颜色方案以及 Alpha 通道等特性。PNG 的开发目标是改善并取代 GIF 作为适合网络传输的格式而不需专利许可，所以被广泛应用于互联网及其他方面上。

PNG 图像通过一种 PKZIP 方法的变体来支持无损压缩，但不支持有损压缩。

目前，PNG 是在互联网上用于表示未压缩的、无损的、真彩色图像的最佳选择。

### 4.4. JPEG

JPEG(Joint Photographic Experts Group，联合图像专家小组) 格式定义了一种用于连续的灰度或彩色图像的压缩方法，目前是最广泛使用的图像文件格式。

JPEG 支持多达 256 种颜色分量的图像。

### 4.5. JFIF

JPEG 文件交换格式（JPEG File Interchange Format，JFIF）是一个图像文件格式标准。它是一种交换符合 JPEG 交换格式（JIF）标准的 JPEG 编码文件的格式。它解决了 JIF 在简单 JPEG 编码文件交换方面的一些限制。与所有符合 JIF 的文件一样，JFIF 文件中的图像数据使用 JPEG 标准的技术压缩，因此 JFIF 有时被称为“JPEG/JFIF”。

### 4.6. EXIF

可交换图像文件格式常被简称为 Exif（Exchangeable image file format），是专门为数码相机的照片设定的，可以记录数码照片的属性信息和拍摄数据。

### 4.7. BMP

BMP 取自位图 BitMaP 的缩写，也称为 DIB（与设备无关的位图），是微软视窗图形子系统（Graphics Device Interface）内部使用的一种位图图形格式，它是微软视窗平台上的一个简单的图形文件格式。

BMP 格式支持灰度、索引、真彩色图像。

由于每个像素都用一整个字节来存储，所以这种方式并不高效。

BMP 是一种灵活性很低的格式。

### 4.8. PBM

可移植像素图格式（PPM），可移植灰度图格式（PGM）和可移植位图格式（PBM）是便于跨平台的图像格式。有时候也被统称为 PNM 格式。

该图像格式的特点是可以有选择的存储为人类可读的文本格式。

## 5. 直方图

是否可以仅通过直方图来重建一幅图像呢，即直方图是否可以以某种方式逆转？在非特殊情况下，答案是否定的。

从直方图种可以获取的信息：
- 曝光程度
- 对比度
- 图像缺陷
  - 饱和度
  - 峰值和间隙
  - 图像压缩的影响
- 动态范围

## 6. 点运算

## 7. 滤波器

## 8. 边缘与轮廓

## 9. 色彩空间

### 9.1. RGB

RGB 是基于色光混合的原理设计的，是一种以硬件为导向的色彩模型，它描述了显示器的电子枪打在 Red 红、Green 绿、Blue 蓝三色发光极上的显色方式。当红绿蓝三色光的亮度均为最大值 (255) 的时候，屏幕上重现的颜色就是最亮的白色，都为 0 的时候，结果就是黑色。

### 9.2. HSL/HSV/HSB

RGB 是对机器很友好的色彩模式，但并不够人性化，因为我们对色彩的认识往往是”什么颜色？鲜艳不鲜艳？亮还是暗？”。而 HSL 模式和 HSV(HSB) 都是基于 RGB 的，是作为一个更方便友好的方法创建出来的。

HSL 和 HSV 二者都把颜色描述在圆柱坐标系内的点，这个圆柱的中心轴取值为自底部的黑色到顶部的白色而在它们中间的是灰色，绕这个轴的角度对应于“色相”，到这个轴的距离对应于“饱和度”，而沿着这个轴的高度对应于“亮度”，“色调”或“明度”。

HSL 同样使用了 3 个分量来描述色彩，与 RGB 使用的三色光不同，HSL 色彩的表述方式是：
- H(hue) 色相 / 色调。
- S(saturation) 饱和度 / 纯度。
- L(lightness) 明度 / 亮度。

在 HSL 中：
- H(hue) 分量，代表的是人眼所能感知的颜色范围，这些颜色分布在一个平面的色相环上，取值范围是 0°到 360°的圆心角，每个角度可以代表一种颜色。色相值的意义在于，我们可以在不改变光感的情况下，通过旋转色相环来改变颜色。在实际应用中，我们需要记住色相环上的六大主色，用作基本参照：360°/0°红、60°黄、120°绿、180°青、240°蓝、300°洋红，它们在色相环上按照 60°圆心角的间隔排列，如下图：

  ![image](http://img.cdn.firejq.com/jpg/2019/3/25/e1c7f6acb9bb2e0124490cef21166aab.jpg)

- S(saturation) 分量，指的是色彩的饱和度，它用 0% 至 100% 的值描述了相同色相、明度下色彩纯度的变化。数值越大，颜色中的灰色越少，颜色越鲜艳，呈现一种从理性（灰度) 到感性（纯色) 的变化，如下图：

  ![image](http://img.cdn.firejq.com/jpg/2019/3/25/3e3bbb6741861a5dc77f3d6311289dde.jpg)

- L(lightness) 分量，指的是色彩的明度，作用是控制色彩的明暗变化。它同样使用了 0% 至 100% 的取值范围。数值越小，色彩越暗，越接近于黑色；数值越大，色彩越亮，越接近于白色，如下图：

  ![image](http://img.cdn.firejq.com/jpg/2019/3/25/2a99bccd2ce747e539db5b3dd3837956.jpg)

## 10. Refer Links

《数字图像处理基础》（德）伯格 (Wilhelm Burger), （德）伯奇 (Mark J.Burge) 著；金名 等 译 清华大学出版社

[色生心中：人性化的 hsl 模型](http://cdc.tencent.com/2011/05/09/%E8%89%B2%E7%94%9F%E5%BF%83%E4%B8%AD%EF%BC%9A%E4%BA%BA%E6%80%A7%E5%8C%96%E7%9A%84hsl%E6%A8%A1%E5%9E%8B/ )

TODO:

[为什么时域和空域的傅里叶变换都对应频域？如何从物理和数学的角度解释呢？](https://www.zhihu.com/question/300906713)
